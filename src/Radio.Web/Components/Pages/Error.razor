@page "/Error"
@using System.Diagnostics

<PageTitle>Error</PageTitle>

<h1>Error</h1>
<p>An error occurred while processing your request.</p>

@if (ShowRequestId)
{
  <p>
    <strong>Request ID:</strong> <code>@RequestId</code>
  </p>
}

@code {
  [CascadingParameter]
  public HttpContext? HttpContext { get; set; }

  public string? RequestId { get; set; }
  public bool ShowRequestId => !string.IsNullOrEmpty(RequestId);

  protected override void OnInitialized()
  {
    RequestId = Activity.Current?.Id ?? HttpContext?.TraceIdentifier;
  }
}
